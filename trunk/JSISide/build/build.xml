<?xml version="1.0" encoding="GBK"?>
<project name="JSISide" default="build" basedir="../">
	<property name="version" value="2007-06-19" />

    <target name="init">
        <delete dir="build/temp">
        </delete>
        <mkdir dir="build/temp/scripts" />
        <mkdir dir="build/dest" />
    </target>
    <target name="copyjsi">
        <jar destfile="web/WEB-INF/lib/JSI.jar">
            <fileset dir="../JSI2/web/WEB-INF/classes">
                <include name="**/*.*" />
                <exclude name="**/*Test*.*" />
            </fileset>
        </jar>
    </target>
    <target name="build" depends="copyjsi">
    </target>
	<target name="compress">
		<java classname="org.jside.jsi.tools.export.ExportorAction">
			<classpath>
				<path location="../JST/classes"></path>
				<fileset dir="../JST/lib">
					<include name="**/*.jar" />
				</fileset>
			</classpath>
			<arg value="-scriptBase" />
			<arg value="${basedir}/web/scripts" />
			<arg value="-outputBoot" />
			<arg value="${basedir}/build/dest/boot.js" />
			<arg value="-bootCached" />
			<arg value="org.jside.*" />
			<arg value="-outputExported" />
			<arg value="${basedir}/build/dest/exported.js" />
			<arg value="-outputXML" />
			<arg value="${basedir}/build/dest/exported.xml"/>
			<arg value="-outputJAR" />
			<arg value="${basedir}/build/dest/exported.jar" />
			<arg value="-ascii" />
			<arg value="false" />
			<arg value="org.jside.*" />
			<arg value="org.jside.decorator.*" />
			<arg value="org.jside.template.*" />
		</java>
	</target>
</project>